/**
 * –ü–∞—Ç–µ—Ä–Ω Decorator (–î–µ–∫–æ—Ä–∞—Ç–æ—Ä)
 *
 * –ö–ª–∞—Å –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –¥–æ –±–ª–æ–∫—ñ–≤ —Ä–µ–∑—é–º–µ.
 * –î–µ–∫–æ—Ä—É—î –æ–±'—î–∫—Ç–∏ —Ç–∏–ø—É IBlock, –¥–æ–¥–∞—é—á–∏ —ó–º –Ω–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
 * –±–µ–∑ –∑–º—ñ–Ω–∏ —ó—Ö –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏.
 */

import { IBlock } from "./IBlock"; // üõ† –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —à–ª—è—Ö—É: BlockFactory –Ω–µ —î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

export class HighlightDecorator implements IBlock {
  private wrapped: IBlock;

  /**
   * @param block –ë–ª–æ–∫, —è–∫–∏–π –±—É–¥–µ –¥–µ–∫–æ—Ä–æ–≤–∞–Ω–æ
   */
  constructor(block: IBlock) {
    this.wrapped = block;
  }

  /**
   * –í–∏–∫–ª–∏–∫–∞—î render() –Ω–∞ –æ–±–≥–æ—Ä–Ω—É—Ç–æ–º—É –±–ª–æ—Ü—ñ,
   * –¥–æ–¥–∞—î –∫–ª–∞—Å 'highlight' –¥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –π–æ–≥–æ
   */
  render(): HTMLElement {
    const element = this.wrapped.render();      // –í–∏–∫–ª–∏–∫–∞—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π render
    element.classList.add("highlight");         // –î–æ–¥–∞—î–º–æ –Ω–æ–≤—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É (–≤–∏–¥—ñ–ª–µ–Ω–Ω—è)
    return element;                             // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –¥–µ–∫–æ—Ä–æ–≤–∞–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç
  }
}
